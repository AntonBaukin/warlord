
<!-- Employees List -->

<section class = "content page invisible" ng-controller = "empsCtrl"
  ag-class = "{'content-hide': 'invisible', 'content-employees': '!invisible'}"
  ag-init = "$scope.initScope()">

  <div class = "content-wrapper">
    <div ng-repeat = "e in filtered track by e.uuid" uuid = "{{e.uuid}}"
      class = "section-list-repeated employee" ng-class = "{odd: $odd}">

      <div ag-trim class = "compacted line" ng-if = "view.obj != e.uuid">
        <div class = "icons">
          <table><tr><td><span class = "btn btn-icon" ng-click = "view.obj = e.uuid"
            ><i class = "fa fa-eye"></i></span></td></tr></table>
        </div>
        <div class = "name half">{{personName(e)}}</div>
        <span class = "sep"></span>
        <div class = "department half">{{depName(e)}}</div>
      </div>

      <form class = "expanded block" ng-if = "view.obj == e.uuid">
        <div class = "row">
          <div class = "col-md-4 col-sm-12">
            <div class = "form-group">
              <label>First name</label>
              <input type = "text" class = "form-control" ng-model = "e.firstName"
                placeholder = "Set required first name…">
            </div>
          </div>

          <div class = "col-md-4 col-sm-12">
            <div class = "form-group">
              <label>Middle name</label>
              <input type = "text" class = "form-control" ng-model = "e.middleName">
            </div>
          </div>

          <div class = "col-md-4 col-sm-12">
            <div class = "form-group">
              <label>Last name</label>
              <input type = "text" class = "form-control" ng-model = "e.lastName"
                placeholder = "Set required last name…">
            </div>
          </div>
        </div>

        <div class = "row">
          <div class = "col-md-4 col-sm-12">
            <div class = "form-group">
              <label>Date of birth</label>
              <input type = "text" class = "form-control" readonly
                ng-value = "e.dob | date : 'MMMM d, yyyy' : 'UTC'">
            </div>
          </div>

          <div ag-trim class = "col-md-8 col-sm-12"
            ag-init = "$scope.matchHeight($element, $element.prev())">
            <div class = "form-group abs-bottom">
              <span class = "checkbox checkbox-inline" ng-click = "e.sex = (e.sex == 'M')?(null):('M')">
                <input type = "checkbox" ng-checked = "e.sex == 'M'"><label>Male</label>
              </span>

              <span class = "checkbox checkbox-inline" ng-click = "e.sex = (e.sex == 'F')?(null):('F')">
                <input type = "checkbox" ng-checked = "e.sex == 'F'"><label>Female</label>
              </span>
            </div>
          </div>
        </div>

        <div class = "row">
          <div class = "col-md-6 col-sm-12">
            <div class = "form-group">
              <label>Personal email</label>
              <input type = "text" class = "form-control" ng-model = "e.email">
            </div>
          </div>

          <div class = "col-md-6 col-sm-12">
            <div class = "form-group">
              <label>Personal phone</label>
              <input type = "text" class = "form-control" ng-model = "e.phone">
            </div>
          </div>
        </div>

        <div class = "row">
          <div class = "col-sm-12">
            <div class = "form-group">
              <label>Home address</label>
              <input type = "text" class = "form-control" ng-model = "e.address">
            </div>
          </div>
        </div>

        <div class = "row">
          <div class = "col-md-8 col-sm-12">
            <div class = "form-group">
              <label>Works in department</label>
              <input type = "text" class = "form-control" readonly ng-value = "depName(e)">
            </div>
          </div>

          <div class = "col-md-4 col-sm-12">
            <div class = "form-group">
              <label>Since</label>
              <input type = "text" class = "form-control" readonly
                ng-value = "e.employee.hired | date : 'MMMM d, yyyy' : 'UTC'">
            </div>
          </div>
        </div>

        <div class = "row">
          <div class = "col-md-6 col-sm-12">
            <div class = "form-group">
              <label>Work email</label>
              <input type = "text" class = "form-control" ng-model = "e.employee.email">
            </div>
          </div>

          <div class = "col-md-6 col-sm-12">
            <div class = "form-group">
              <label>Work phone</label>
              <input type = "text" class = "form-control" ng-model = "e.employee.phone">
            </div>
          </div>
        </div>

        <div ag-trim class = "buttons">
          <div class = "left">
            <button ng-click = "view.obj = null"
              class = "btn btn-default">Close</button>
            <button class = "btn btn-info" ng-click = "gotoDep(e)">View department</button>
          </div>

          <div class = "right">
            <button class = "btn btn-warning">Select department</button>
            <button class = "btn btn-success">Commit</button>
          </div>
        </div>
      </form>
    </div>
    </div>
  </div>
</section>